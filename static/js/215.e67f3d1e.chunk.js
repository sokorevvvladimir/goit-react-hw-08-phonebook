"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[215],{9215:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var s,a,r,i,o,d,c,l,u,h,m,x=t(885),Z=t(168),f=t(2791),j=t(5065),p=t(375),b=t(3360),g=t(7121),w=t(6657),y=t(2431),C=t(6031),v=t(184),N=(0,C.ZP)(b.Z)(s||(s=(0,Z.Z)(["\ndisplay: flex;\njustify-content: center"]))),P=function(){var e=(0,f.useState)(""),n=(0,x.Z)(e,2),t=n[0],s=n[1],a=(0,f.useState)(""),r=(0,x.Z)(a,2),i=r[0],o=r[1],d=(0,j.bC)().data,c=(0,j.Lr)(),l=(0,x.Z)(c,2),u=l[0],h=l[1].isLoading,m=(0,f.useState)(!1),Z=(0,x.Z)(m,2),b=Z[0],C=Z[1],P=(0,f.useState)(""),S=(0,x.Z)(P,2),B=S[0],k=S[1],L=(0,f.useState)(!1),T=(0,x.Z)(L,2),z=T[0],F=T[1],A=(0,f.useState)(!1),I=(0,x.Z)(A,2),_=I[0],D=I[1],H=function(e){if(function(e){return d.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))}(e))return k(e.name),void F(!0);!function(e){return d.find((function(n){return n.number===e.number}))}(e)?(u(e),C(!0),k(e.name)):D(!0)},J=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":s(a);break;case"number":o(a);break;default:return}},G=function(){s(""),o("")};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(y.Z,{position:"bottom-end",children:[(0,v.jsxs)(w.Z,{bg:"success",onClose:function(){return C(!1)},show:b,delay:3e3,autohide:!0,children:[(0,v.jsxs)(w.Z.Header,{children:[(0,v.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,v.jsx)("small",{children:"Just now!"})]}),(0,v.jsx)(w.Z.Body,{children:"".concat(B," added to your contacts!")})]}),(0,v.jsxs)(w.Z,{bg:"danger",onClose:function(){return F(!1)},show:z,delay:3e3,autohide:!0,children:[(0,v.jsxs)(w.Z.Header,{children:[(0,v.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,v.jsx)("small",{children:"Just now!"})]}),(0,v.jsx)(w.Z.Body,{children:"".concat(B," is already in your contacts.")})]}),(0,v.jsxs)(w.Z,{bg:"danger",onClose:function(){return D(!1)},show:_,delay:3e3,autohide:!0,children:[(0,v.jsxs)(w.Z.Header,{children:[(0,v.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,v.jsx)("small",{children:"Just now!"})]}),(0,v.jsx)(w.Z.Body,{children:"Contact with this phone number is already in your contacts."})]})]}),(0,v.jsxs)(g.Z,{onSubmit:function(e){e.preventDefault(),H({name:t,number:i}),G()},children:[(0,v.jsxs)(g.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,v.jsx)(g.Z.Label,{children:"Name"}),(0,v.jsx)(g.Z.Control,{placeholder:"Enter name",type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:J})]}),(0,v.jsxs)(g.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,v.jsx)(g.Z.Label,{children:"Phone"}),(0,v.jsx)(g.Z.Control,{placeholder:"Phone number",type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:J})]}),(0,v.jsx)("div",{className:"d-grid gap-2",children:(0,v.jsx)(N,{variant:"secondary",type:"submit",disabled:h,children:h?(0,v.jsx)(p.iT,{color:"#ffffff",height:20,width:20}):"Add contact"})})]})]})},S=t(5048),B=t(1634),k=function(e){return e.filter},L=function(){var e=(0,S.I0)(),n=(0,S.v9)(k);return(0,j.VX)(n,{skip:""===n}),(0,v.jsxs)(g.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,v.jsx)(g.Z.Label,{children:"Find contacts by name"}),(0,v.jsx)(g.Z.Control,{type:"text",value:n,onChange:function(n){e((0,B.M6)(n.currentTarget.value))}})]})},T=t(1413),z=C.ZP.p(a||(a=(0,Z.Z)(["\n  font-weight: 500;\n"]))),F=function(){return(0,v.jsx)(z,{children:"Nothing here so far"})},A=t(6911),I=t(9140),_=C.ZP.li(r||(r=(0,Z.Z)(["\nlist-style: none;\n  font-size: 18px;\n  font-weight: 500;\n  color: #ffffff;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n  )\n"]))),D=(0,C.ZP)(I.Z)(i||(i=(0,Z.Z)(["\n@media (max-width: 767px) {\n  font-size: 14px;\n}"]))),H=(0,C.ZP)(I.Z.Title)(o||(o=(0,Z.Z)(["\nmargin-bottom: 0;\n\n@media (max-width: 767px) {\n  font-size: 14px;\n}"]))),J=(0,C.ZP)(I.Z.Body)(d||(d=(0,Z.Z)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\n\n@media (max-width: 767px) {\n  padding: 5px 5px;\n}\n"]))),G=(0,C.ZP)(I.Z.Text)(c||(c=(0,Z.Z)(["\nmargin-bottom: 0;"]))),q=(0,C.ZP)(b.Z)(l||(l=(0,Z.Z)(["\nmargin-right: 1rem"]))),E=(0,C.ZP)(b.Z)(u||(u=(0,Z.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center"]))),M=function(e){var n=e.id,t=e.name,s=e.number,a=e.passDeletedContactInfoForToast,r=e.passUpdatedContactInfoForToast,i=(0,S.I0)(),o=(0,j.Nt)(),d=(0,x.Z)(o,2),c=d[0],l=d[1].isLoading,u=(0,j.wv)(),h=(0,x.Z)(u,2),m=h[0],Z=h[1].isLoading,w=(0,f.useState)(t),y=(0,x.Z)(w,2),C=y[0],N=y[1],P=(0,f.useState)(s),k=(0,x.Z)(P,2),L=k[0],T=k[1],z=(0,f.useState)(!1),F=(0,x.Z)(z,2),I=F[0],M=F[1],U=function(){M(!I)},W=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":N(s);break;case"number":T(s);break;default:return}};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(A.Z,{show:I,onHide:U,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,v.jsx)(A.Z.Header,{closeButton:!0,children:(0,v.jsx)(A.Z.Title,{id:"contained-modal-title-vcenter",children:"Edit"})}),(0,v.jsx)(A.Z.Body,{children:(0,v.jsxs)(g.Z,{onSubmit:function(e){e.preventDefault(),function(e){var n=e.id,t=e.newName,s=e.newNumber;m({id:n,name:t,number:s}),r(!0)}({id:n,newName:C,newNumber:L})},children:[(0,v.jsxs)(g.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,v.jsx)(g.Z.Label,{children:"Name"}),(0,v.jsx)(g.Z.Control,{type:"text",name:"name",value:C,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:W})]}),(0,v.jsxs)(g.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,v.jsx)(g.Z.Label,{children:"Number"}),(0,v.jsx)(g.Z.Control,{type:"tel",name:"number",value:L,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:W})]}),(0,v.jsx)("div",{className:"d-grid gap-2",children:(0,v.jsx)(E,{type:"submit",disabled:Z,children:Z?(0,v.jsx)(p.iT,{color:"#ffffff",height:20,width:20}):"OK"})})]})})]}),(0,v.jsx)(_,{children:(0,v.jsx)(D,{bg:"info",children:(0,v.jsxs)(J,{children:[(0,v.jsxs)(H,{children:[t,":"]}),(0,v.jsx)(G,{children:s}),(0,v.jsxs)("div",{children:[(0,v.jsx)(q,{variant:"outline-light",type:"button",onClick:U,children:"Edit"}),(0,v.jsx)(b.Z,{variant:"outline-light",type:"button",onClick:function(){i((0,B.Dg)()),c(n),a(!0)},disabled:l,children:l?(0,v.jsx)(p.iT,{color:"#25515a",height:20,width:20}):"Delete"})]})]})})})]})},U=t(4849),W=C.ZP.div(h||(h=(0,Z.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  // @media (min-width: 769px) {\n  //   width: 80%;\n  // }\n  // @media (min-width: 1024px) {\n  //   width: 100%;\n  }\n"]))),$=function(){return(0,v.jsx)(W,{children:(0,v.jsx)(U.Z,{animation:"grow",variant:"info"})})},K=C.ZP.ul(m||(m=(0,Z.Z)(["\n  padding-inline-start: 0;\n"]))),O=function(){var e=(0,j.bC)(),n=e.data,t=e.isFetching,s=n,a=(0,S.v9)(k),r=(0,f.useState)(!1),i=(0,x.Z)(r,2),o=i[0],d=i[1],c=(0,f.useState)(!1),l=(0,x.Z)(c,2),u=l[0],h=l[1],m=function(){var e=a.toLowerCase();return null===s||void 0===s?void 0:s.filter((function(n){return n.name.toLowerCase().includes(e)}))}(),Z=function(e){d(e)},p=function(e){h(e)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y.Z,{position:"bottom-end",children:(0,v.jsxs)(w.Z,{bg:"success",onClose:function(){return d(!1)},show:o,delay:3e3,autohide:!0,children:[(0,v.jsxs)(w.Z.Header,{children:[(0,v.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,v.jsx)("small",{children:"Just now!"})]}),(0,v.jsx)(w.Z.Body,{children:"Deleted from your contacts!"})]})}),(0,v.jsx)(y.Z,{position:"bottom-end",children:(0,v.jsxs)(w.Z,{bg:"success",onClose:function(){return h(!1)},show:u,delay:3e3,autohide:!0,children:[(0,v.jsxs)(w.Z.Header,{children:[(0,v.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,v.jsx)("small",{children:"Just now!"})]}),(0,v.jsx)(w.Z.Body,{children:"Contact updated!"})]})}),(0,v.jsxs)(K,{children:[t&&(0,v.jsx)($,{}),s&&!t&&m.map((function(e){return(0,v.jsx)(M,(0,T.Z)((0,T.Z)({},e),{},{passDeletedContactInfoForToast:Z,passUpdatedContactInfoForToast:p}),e.id)})),(!s||0===s.length)&&!t&&(0,v.jsx)(F,{})]})]})},V=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:"Phonebook"}),(0,v.jsx)(P,{}),(0,v.jsx)("h2",{children:"Contacts"}),(0,v.jsx)(L,{}),(0,v.jsx)(O,{})]})}}}]);
//# sourceMappingURL=215.e67f3d1e.chunk.js.map