"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[215],{9215:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var s,a,r,i,o,d,c,l,u,h,m,x,Z,f=t(885),j=t(168),p=t(2791),b=t(5065),g=t(375),w=t(3360),y=t(7121),C=t(6657),v=t(2431),N=t(6031),P=t(184),S=(0,N.ZP)(w.Z)(s||(s=(0,j.Z)(["\ndisplay: flex;\njustify-content: center"]))),B=(0,N.ZP)(v.Z)(a||(a=(0,j.Z)(["\nz-index: 999;"]))),k=function(){var e=(0,p.useState)(""),n=(0,f.Z)(e,2),t=n[0],s=n[1],a=(0,p.useState)(""),r=(0,f.Z)(a,2),i=r[0],o=r[1],d=(0,b.bC)().data,c=(0,b.Lr)(),l=(0,f.Z)(c,2),u=l[0],h=l[1].isLoading,m=(0,p.useState)(!1),x=(0,f.Z)(m,2),Z=x[0],j=x[1],w=(0,p.useState)(""),v=(0,f.Z)(w,2),N=v[0],k=v[1],z=(0,p.useState)(!1),L=(0,f.Z)(z,2),T=L[0],F=L[1],A=(0,p.useState)(!1),I=(0,f.Z)(A,2),_=I[0],D=I[1],H=function(e){if(function(e){return d.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))}(e))return k(e.name),void F(!0);!function(e){return d.find((function(n){return n.number===e.number}))}(e)?(u(e),j(!0),k(e.name)):D(!0)},J=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":s(a);break;case"number":o(a);break;default:return}},G=function(){s(""),o("")};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(B,{position:"bottom-end",children:[(0,P.jsxs)(C.Z,{bg:"success",onClose:function(){return j(!1)},show:Z,delay:3e3,autohide:!0,children:[(0,P.jsxs)(C.Z.Header,{children:[(0,P.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,P.jsx)("small",{children:"Just now!"})]}),(0,P.jsx)(C.Z.Body,{children:"".concat(N," added to your contacts!")})]}),(0,P.jsxs)(C.Z,{bg:"danger",onClose:function(){return F(!1)},show:T,delay:3e3,autohide:!0,children:[(0,P.jsxs)(C.Z.Header,{children:[(0,P.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,P.jsx)("small",{children:"Just now!"})]}),(0,P.jsx)(C.Z.Body,{children:"".concat(N," is already in your contacts.")})]}),(0,P.jsxs)(C.Z,{bg:"danger",onClose:function(){return D(!1)},show:_,delay:3e3,autohide:!0,children:[(0,P.jsxs)(C.Z.Header,{children:[(0,P.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,P.jsx)("small",{children:"Just now!"})]}),(0,P.jsx)(C.Z.Body,{children:"Contact with this phone number is already in your contacts."})]})]}),(0,P.jsxs)(y.Z,{onSubmit:function(e){e.preventDefault(),H({name:t,number:i}),G()},children:[(0,P.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,P.jsx)(y.Z.Label,{children:"Name"}),(0,P.jsx)(y.Z.Control,{placeholder:"Enter name",type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:J})]}),(0,P.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,P.jsx)(y.Z.Label,{children:"Phone"}),(0,P.jsx)(y.Z.Control,{placeholder:"Phone number",type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:J})]}),(0,P.jsx)("div",{className:"d-grid gap-2",children:(0,P.jsx)(S,{variant:"secondary",type:"submit",disabled:h,children:h?(0,P.jsx)(g.iT,{color:"#ffffff",height:20,width:20}):"Add contact"})})]})]})},z=t(5048),L=t(1634),T=function(e){return e.filter},F=function(){var e=(0,z.I0)(),n=(0,z.v9)(T);return(0,b.VX)(n,{skip:""===n}),(0,P.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,P.jsx)(y.Z.Label,{children:"Find contacts by name"}),(0,P.jsx)(y.Z.Control,{type:"text",value:n,onChange:function(n){e((0,L.M6)(n.currentTarget.value))}})]})},A=t(1413),I=N.ZP.p(r||(r=(0,j.Z)(["\n  font-weight: 500;\n"]))),_=function(){return(0,P.jsx)(I,{children:"Nothing here so far"})},D=t(6911),H=t(9140),J=N.ZP.li(i||(i=(0,j.Z)(["\nlist-style: none;\n  font-size: 18px;\n  font-weight: 500;\n  color: #ffffff;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n  )\n"]))),G=(0,N.ZP)(H.Z)(o||(o=(0,j.Z)(["\n@media (max-width: 767px) {\n  font-size: 14px;\n}"]))),q=(0,N.ZP)(H.Z.Title)(d||(d=(0,j.Z)(["\nmargin-bottom: 0;\n\n@media (max-width: 767px) {\n  font-size: 14px;\n}"]))),E=(0,N.ZP)(H.Z.Body)(c||(c=(0,j.Z)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\n\n@media (max-width: 767px) {\n  padding: 5px 5px;\n}\n"]))),M=(0,N.ZP)(H.Z.Text)(l||(l=(0,j.Z)(["\nmargin-bottom: 0;"]))),U=(0,N.ZP)(w.Z)(u||(u=(0,j.Z)(["\nmargin-right: 1rem"]))),W=(0,N.ZP)(w.Z)(h||(h=(0,j.Z)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center"]))),$=function(e){var n=e.id,t=e.name,s=e.number,a=e.passDeletedContactInfoForToast,r=e.passUpdatedContactInfoForToast,i=(0,z.I0)(),o=(0,b.Nt)(),d=(0,f.Z)(o,2),c=d[0],l=d[1].isLoading,u=(0,b.wv)(),h=(0,f.Z)(u,2),m=h[0],x=h[1].isLoading,Z=(0,p.useState)(t),j=(0,f.Z)(Z,2),C=j[0],v=j[1],N=(0,p.useState)(s),S=(0,f.Z)(N,2),B=S[0],k=S[1],T=(0,p.useState)(!1),F=(0,f.Z)(T,2),A=F[0],I=F[1],_=function(){I(!A)},H=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":v(s);break;case"number":k(s);break;default:return}};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(D.Z,{show:A,onHide:_,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,P.jsx)(D.Z.Header,{closeButton:!0,children:(0,P.jsx)(D.Z.Title,{id:"contained-modal-title-vcenter",children:"Edit"})}),(0,P.jsx)(D.Z.Body,{children:(0,P.jsxs)(y.Z,{onSubmit:function(e){e.preventDefault(),function(e){var n=e.id,t=e.newName,s=e.newNumber;m({id:n,name:t,number:s}),r(!0)}({id:n,newName:C,newNumber:B})},children:[(0,P.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,P.jsx)(y.Z.Label,{children:"Name"}),(0,P.jsx)(y.Z.Control,{type:"text",name:"name",value:C,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:H})]}),(0,P.jsxs)(y.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,P.jsx)(y.Z.Label,{children:"Number"}),(0,P.jsx)(y.Z.Control,{type:"tel",name:"number",value:B,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:H})]}),(0,P.jsx)("div",{className:"d-grid gap-2",children:(0,P.jsx)(W,{type:"submit",disabled:x,children:x?(0,P.jsx)(g.iT,{color:"#ffffff",height:20,width:20}):"OK"})})]})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(G,{bg:"info",children:(0,P.jsxs)(E,{children:[(0,P.jsxs)(q,{children:[t,":"]}),(0,P.jsx)(M,{children:s}),(0,P.jsxs)("div",{children:[(0,P.jsx)(U,{variant:"outline-light",type:"button",onClick:_,children:"Edit"}),(0,P.jsx)(w.Z,{variant:"outline-light",type:"button",onClick:function(){i((0,L.Dg)()),c(n),a(!0)},disabled:l,children:l?(0,P.jsx)(g.iT,{color:"#25515a",height:20,width:20}):"Delete"})]})]})})})]})},K=t(4849),O=N.ZP.div(m||(m=(0,j.Z)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  // @media (min-width: 769px) {\n  //   width: 80%;\n  // }\n  // @media (min-width: 1024px) {\n  //   width: 100%;\n  }\n"]))),V=function(){return(0,P.jsx)(O,{children:(0,P.jsx)(K.Z,{animation:"grow",variant:"info"})})},X=N.ZP.ul(x||(x=(0,j.Z)(["\n  padding-inline-start: 0;\n"]))),Q=(0,N.ZP)(v.Z)(Z||(Z=(0,j.Z)(["\nz-index: 999;"]))),R=function(){var e=(0,b.bC)(),n=e.data,t=e.isFetching,s=n,a=(0,z.v9)(T),r=(0,p.useState)(!1),i=(0,f.Z)(r,2),o=i[0],d=i[1],c=(0,p.useState)(!1),l=(0,f.Z)(c,2),u=l[0],h=l[1],m=function(){var e=a.toLowerCase();return null===s||void 0===s?void 0:s.filter((function(n){return n.name.toLowerCase().includes(e)}))}(),x=function(e){d(e)},Z=function(e){h(e)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Q,{position:"bottom-end",children:(0,P.jsxs)(C.Z,{bg:"success",onClose:function(){return d(!1)},show:o,delay:3e3,autohide:!0,children:[(0,P.jsxs)(C.Z.Header,{children:[(0,P.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,P.jsx)("small",{children:"Just now!"})]}),(0,P.jsx)(C.Z.Body,{children:"Deleted from your contacts!"})]})}),(0,P.jsx)(Q,{position:"bottom-end",children:(0,P.jsxs)(C.Z,{bg:"success",onClose:function(){return h(!1)},show:u,delay:3e3,autohide:!0,children:[(0,P.jsxs)(C.Z.Header,{children:[(0,P.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,P.jsx)("small",{children:"Just now!"})]}),(0,P.jsx)(C.Z.Body,{children:"Contact updated!"})]})}),(0,P.jsxs)(X,{children:[t&&(0,P.jsx)(V,{}),s&&!t&&m.map((function(e){return(0,P.jsx)($,(0,A.Z)((0,A.Z)({},e),{},{passDeletedContactInfoForToast:x,passUpdatedContactInfoForToast:Z}),e.id)})),(!s||0===s.length)&&!t&&(0,P.jsx)(_,{})]})]})},Y=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("h1",{children:"Phonebook"}),(0,P.jsx)(k,{}),(0,P.jsx)("h2",{children:"Contacts"}),(0,P.jsx)(F,{}),(0,P.jsx)(R,{})]})}}}]);
//# sourceMappingURL=215.52dbadb1.chunk.js.map