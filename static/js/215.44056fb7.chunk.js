"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[215],{9215:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var s,a,r,i,o=t(885),d=t(2791),c=t(5065),l=t(375),u=t(3360),h=t(3090),m=t(7855),x=t(2431),j=t(184),f=function(){var e=(0,d.useState)(""),n=(0,o.Z)(e,2),t=n[0],s=n[1],a=(0,d.useState)(""),r=(0,o.Z)(a,2),i=r[0],f=r[1],Z=(0,c.bC)().data,p=(0,c.Lr)(),b=(0,o.Z)(p,2),g=b[0],y=b[1].isLoading,w=(0,d.useState)(!1),C=(0,o.Z)(w,2),v=C[0],N=C[1],B=(0,d.useState)(""),S=(0,o.Z)(B,2),k=S[0],L=S[1],T=(0,d.useState)(!1),F=(0,o.Z)(T,2),I=F[0],A=F[1],z=(0,d.useState)(!1),P=(0,o.Z)(z,2),J=P[0],_=P[1],D=function(e){if(function(e){return Z.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))}(e))return L(e.name),void A(!0);!function(e){return Z.find((function(n){return n.number===e.number}))}(e)?(g(e),N(!0),L(e.name)):_(!0)},H=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":s(a);break;case"number":f(a);break;default:return}},G=function(){s(""),f("")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(x.Z,{position:"bottom-end",children:[(0,j.jsxs)(m.Z,{bg:"success",onClose:function(){return N(!1)},show:v,delay:3e3,autohide:!0,children:[(0,j.jsxs)(m.Z.Header,{children:[(0,j.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,j.jsx)("small",{children:"Just now!"})]}),(0,j.jsx)(m.Z.Body,{children:"".concat(k," added to your contacts!")})]}),(0,j.jsxs)(m.Z,{bg:"danger",onClose:function(){return A(!1)},show:I,delay:3e3,autohide:!0,children:[(0,j.jsxs)(m.Z.Header,{children:[(0,j.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,j.jsx)("small",{children:"Just now!"})]}),(0,j.jsx)(m.Z.Body,{children:"".concat(k," is already in your contacts.")})]}),(0,j.jsxs)(m.Z,{bg:"danger",onClose:function(){return _(!1)},show:J,delay:3e3,autohide:!0,children:[(0,j.jsxs)(m.Z.Header,{children:[(0,j.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,j.jsx)("small",{children:"Just now!"})]}),(0,j.jsx)(m.Z.Body,{children:"Contact with this phone number is already in your contacts."})]})]}),(0,j.jsxs)(h.Z,{onSubmit:function(e){e.preventDefault(),D({name:t,number:i}),G()},children:[(0,j.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,j.jsx)(h.Z.Label,{children:"Name"}),(0,j.jsx)(h.Z.Control,{placeholder:"Enter name",type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:H})]}),(0,j.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,j.jsx)(h.Z.Label,{children:"Phone"}),(0,j.jsx)(h.Z.Control,{placeholder:"Phone number",type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:H})]}),(0,j.jsx)("div",{className:"d-grid gap-2",children:(0,j.jsx)(u.Z,{style:{display:"flex",justifyContent:"center"},variant:"secondary",type:"submit",disabled:y,children:y?(0,j.jsx)(l.iT,{color:"#ffffff",height:20,width:20}):"Add contact"})})]})]})},Z=t(5048),p=t(1634),b=function(e){return e.filter},g=function(){var e=(0,Z.I0)(),n=(0,Z.v9)(b);return(0,c.VX)(n,{skip:""===n}),(0,j.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,j.jsx)(h.Z.Label,{children:"Find contacts by name"}),(0,j.jsx)(h.Z.Control,{type:"text",value:n,onChange:function(n){e((0,p.M6)(n.currentTarget.value))}})]})},y=t(1413),w=t(168),C=t(6031),v=C.ZP.p(s||(s=(0,w.Z)(["\n  font-weight: 500;\n"]))),N=function(){return(0,j.jsx)(v,{children:"Nothing here so far"})},B=t(8157),S=t(2144),k=C.ZP.li(a||(a=(0,w.Z)(["\nlist-style: none;\n  font-size: 18px;\n  font-weight: 500;\n  color: #ffffff;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  // @media (min-width: 769px){\n  //   width: 80%;\n  //   height: 50px;\n  // };\n  // @media (min-width: 1024px) {\n  //   width: 40%;\n  // }\n  )\n"]))),L=function(e){var n=e.id,t=e.name,s=e.number,a=e.passDeletedContactInfoForToast,r=e.passUpdatedContactInfoForToast,i=(0,Z.I0)(),m=(0,c.Nt)(),x=(0,o.Z)(m,2),f=x[0],b=x[1].isLoading,g=(0,c.wv)(),y=(0,o.Z)(g,2),w=y[0],C=y[1].isLoading,v=(0,d.useState)(t),N=(0,o.Z)(v,2),L=N[0],T=N[1],F=(0,d.useState)(s),I=(0,o.Z)(F,2),A=I[0],z=I[1],P=(0,d.useState)(!1),J=(0,o.Z)(P,2),_=J[0],D=J[1],H=function(){D(!_)},G=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":T(s);break;case"number":z(s);break;default:return}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(B.Z,{show:_,onHide:H,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,j.jsx)(B.Z.Header,{closeButton:!0,children:(0,j.jsx)(B.Z.Title,{id:"contained-modal-title-vcenter",children:"Edit"})}),(0,j.jsx)(B.Z.Body,{children:(0,j.jsxs)(h.Z,{onSubmit:function(e){e.preventDefault(),function(e){var n=e.id,t=e.newName,s=e.newNumber;w({id:n,name:t,number:s}),r(!0)}({id:n,newName:L,newNumber:A})},children:[(0,j.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,j.jsx)(h.Z.Label,{children:"Name"}),(0,j.jsx)(h.Z.Control,{type:"text",name:"name",value:L,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:G})]}),(0,j.jsxs)(h.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,j.jsx)(h.Z.Label,{children:"Number"}),(0,j.jsx)(h.Z.Control,{type:"tel",name:"number",value:A,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:G})]}),(0,j.jsx)("div",{className:"d-grid gap-2",children:(0,j.jsx)(u.Z,{type:"submit",disabled:C,children:C?(0,j.jsx)(l.iT,{color:"#25515a",height:20,width:20}):"OK"})})]})})]}),(0,j.jsx)(k,{children:(0,j.jsx)(S.Z,{bg:"info",children:(0,j.jsxs)(S.Z.Body,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,j.jsxs)(S.Z.Title,{style:{marginBottom:0},children:[t,":"]}),(0,j.jsx)(S.Z.Text,{style:{marginBottom:0},children:s}),(0,j.jsxs)("div",{children:[(0,j.jsx)(u.Z,{variant:"outline-light",type:"button",onClick:H,style:{marginRight:"1rem"},children:"Edit"}),(0,j.jsx)(u.Z,{variant:"outline-light",type:"button",onClick:function(){i((0,p.Dg)()),f(n),a(!0)},disabled:b,children:b?(0,j.jsx)(l.iT,{color:"#25515a",height:20,width:20}):"Delete"})]})]})})})]})},T=C.ZP.div(r||(r=(0,w.Z)(["\n  display: flex;\n  justify-content: center;\n\n  @media (min-width: 769px) {\n    width: 80%;\n  }\n  @media (min-width: 1024px) {\n    width: 40%;\n  }\n"]))),F=function(){return(0,j.jsx)(T,{children:(0,j.jsx)(l.CJ,{color:"#1cadca",height:80,width:80})})},I=C.ZP.ul(i||(i=(0,w.Z)(["\n  padding-inline-start: 0;\n"]))),A=function(){var e=(0,c.bC)(),n=e.data,t=e.isFetching,s=n,a=(0,Z.v9)(b),r=(0,d.useState)(!1),i=(0,o.Z)(r,2),l=i[0],u=i[1],h=(0,d.useState)(!1),f=(0,o.Z)(h,2),p=f[0],g=f[1],w=function(){var e=a.toLowerCase();return null===s||void 0===s?void 0:s.filter((function(n){return n.name.toLowerCase().includes(e)}))}(),C=function(e){u(e)},v=function(e){g(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{position:"bottom-end",children:(0,j.jsxs)(m.Z,{bg:"success",onClose:function(){return u(!1)},show:l,delay:3e3,autohide:!0,children:[(0,j.jsxs)(m.Z.Header,{children:[(0,j.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,j.jsx)("small",{children:"Just now!"})]}),(0,j.jsx)(m.Z.Body,{children:"Deleted from your contacts!"})]})}),(0,j.jsx)(x.Z,{position:"bottom-end",children:(0,j.jsxs)(m.Z,{bg:"success",onClose:function(){return g(!1)},show:p,delay:3e3,autohide:!0,children:[(0,j.jsxs)(m.Z.Header,{children:[(0,j.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,j.jsx)("small",{children:"Just now!"})]}),(0,j.jsx)(m.Z.Body,{children:"Contact updated!"})]})}),(0,j.jsxs)(I,{children:[t&&(0,j.jsx)(F,{}),s&&!t&&w.map((function(e){return(0,j.jsx)(L,(0,y.Z)((0,y.Z)({},e),{},{passDeletedContactInfoForToast:C,passUpdatedContactInfoForToast:v}),e.id)})),(!s||0===s.length)&&!t&&(0,j.jsx)(N,{})]})]})},z=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:"Phonebook"}),(0,j.jsx)(f,{}),(0,j.jsx)("h2",{children:"Contacts"}),(0,j.jsx)(g,{}),(0,j.jsx)(A,{})]})}}}]);
//# sourceMappingURL=215.44056fb7.chunk.js.map