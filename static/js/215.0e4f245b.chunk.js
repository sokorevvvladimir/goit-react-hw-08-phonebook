"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[215],{9215:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a,s,r,i,o,d,c,l=t(885),u=t(2791),h=t(5065),m=t(375),x=t(3360),f=t(3090),j=t(7855),p=t(2431),Z=t(184),g=function(){var e=(0,u.useState)(""),n=(0,l.Z)(e,2),t=n[0],a=n[1],s=(0,u.useState)(""),r=(0,l.Z)(s,2),i=r[0],o=r[1],d=(0,h.bC)().data,c=(0,h.Lr)(),g=(0,l.Z)(c,2),b=g[0],y=g[1].isLoading,w=(0,u.useState)(!1),C=(0,l.Z)(w,2),v=C[0],N=C[1],S=(0,u.useState)(""),k=(0,l.Z)(S,2),B=k[0],T=k[1],F=(0,u.useState)(!1),P=(0,l.Z)(F,2),A=P[0],L=P[1],z=(0,u.useState)(!1),I=(0,l.Z)(z,2),J=I[0],_=I[1],D=function(e){if(function(e){return d.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))}(e))return T(e.name),void L(!0);!function(e){return d.find((function(n){return n.number===e.number}))}(e)?(b(e),N(!0),T(e.name)):_(!0)},H=function(e){var n=e.currentTarget,t=n.name,s=n.value;switch(t){case"name":a(s);break;case"number":o(s);break;default:return}},q=function(){a(""),o("")};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(p.Z,{position:"middle-end",children:[(0,Z.jsxs)(j.Z,{bg:"info",onClose:function(){return N(!1)},show:v,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(j.Z.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(j.Z.Body,{children:"".concat(B," added to your contacts!")})]}),(0,Z.jsxs)(j.Z,{bg:"danger",onClose:function(){return L(!1)},show:A,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(j.Z.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(j.Z.Body,{children:"".concat(B," is already in your contacts.")})]}),(0,Z.jsxs)(j.Z,{bg:"danger",onClose:function(){return _(!1)},show:J,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(j.Z.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(j.Z.Body,{children:"Contact with this phone number is already in your contacts."})]})]}),(0,Z.jsxs)(f.Z,{onSubmit:function(e){e.preventDefault(),D({name:t,number:i}),q()},children:[(0,Z.jsxs)(f.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,Z.jsx)(f.Z.Label,{children:"Name"}),(0,Z.jsx)(f.Z.Control,{placeholder:"Enter name",type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:H})]}),(0,Z.jsxs)(f.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,Z.jsx)(f.Z.Label,{children:"Phone"}),(0,Z.jsx)(f.Z.Control,{placeholder:"Phone number",type:"tel",name:"number",value:i,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:H})]}),(0,Z.jsx)("div",{className:"d-grid gap-2",children:(0,Z.jsx)(x.Z,{style:{display:"flex",justifyContent:"center"},variant:"secondary",type:"submit",disabled:y,children:y?(0,Z.jsx)(m.iT,{color:"#ffffff",height:20,width:20}):"Add contact"})})]})]})},b=t(5048),y=t(1634),w=function(e){return e.filter},C=function(){var e=(0,b.I0)(),n=(0,b.v9)(w);return(0,h.VX)(n,{skip:""===n}),(0,Z.jsxs)(f.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,Z.jsx)(f.Z.Label,{children:"Find contacts by name"}),(0,Z.jsx)(f.Z.Control,{type:"text",value:n,onChange:function(n){e((0,y.M6)(n.currentTarget.value))}})]})},v=t(1413),N=t(168),S=t(6031),k=S.ZP.p(a||(a=(0,N.Z)(["\n  font-weight: 500;\n"]))),B=function(){return(0,Z.jsx)(k,{children:"Nothing here so far"})},T=t(8157),F=t(2144),P=S.ZP.li(s||(s=(0,N.Z)(["\nlist-style: none;\n  font-size: 18px;\n  font-weight: 500;\n  color: #ffffff;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  // @media (min-width: 769px){\n  //   width: 80%;\n  //   height: 50px;\n  // };\n  // @media (min-width: 1024px) {\n  //   width: 40%;\n  // }\n  )\n"]))),A=S.ZP.form(r||(r=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  padding: 10px;\n  background-image: repeating-linear-gradient(\n    -45deg,\n    #1cadca,\n    #1cadca 10px,\n    #25515a 10px,\n    #25515a 20px\n  );\n"]))),L=S.ZP.label(i||(i=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-weight: 700;\n  color: #ffffff;\n  margin-bottom: 20px;\n"]))),z=S.ZP.input(o||(o=(0,N.Z)(["\n  width: 95%;\n  margin-top: 5px;\n  &:focus {\n    outline: 3px solid #1ac7d2;\n    border: none;\n  }\n"]))),I=function(e){var n=e.id,t=e.name,a=e.number,s=e.passDeletedContactInfoForToast,r=e.passUpdatedContactInfoForToast,i=(0,b.I0)(),o=(0,h.Nt)(),d=(0,l.Z)(o,2),c=d[0],f=d[1].isLoading,j=(0,h.wv)(),p=(0,l.Z)(j,2),g=p[0],w=p[1].isLoading,C=(0,u.useState)(t),v=(0,l.Z)(C,2),N=v[0],S=v[1],k=(0,u.useState)(a),B=(0,l.Z)(k,2),I=B[0],J=B[1],_=(0,u.useState)(!1),D=(0,l.Z)(_,2),H=D[0],q=D[1],E=function(){q(!H)},G=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":S(a);break;case"number":J(a);break;default:return}};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(T.Z,{show:H,onHide:E,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,Z.jsx)(T.Z.Header,{closeButton:!0,children:(0,Z.jsx)(T.Z.Title,{id:"contained-modal-title-vcenter",children:"Edit"})}),(0,Z.jsx)(T.Z.Body,{children:(0,Z.jsxs)(A,{onSubmit:function(e){e.preventDefault(),function(e){var n=e.id,t=e.newName,a=e.newNumber;g({id:n,name:t,number:a}),r(!0)}({id:n,newName:N,newNumber:I})},children:[(0,Z.jsxs)(L,{children:["Name",(0,Z.jsx)(z,{type:"text",name:"name",value:N,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:G})]}),(0,Z.jsxs)(L,{children:["Number",(0,Z.jsx)(z,{type:"tel",name:"number",value:I,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:G})]}),(0,Z.jsx)(x.Z,{type:"submit",disabled:w,children:w?(0,Z.jsx)(m.iT,{color:"#25515a",height:20,width:20}):"OK"})]})})]}),(0,Z.jsx)(P,{children:(0,Z.jsx)(F.Z,{bg:"info",children:(0,Z.jsxs)(F.Z.Body,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Z.jsxs)(F.Z.Title,{style:{marginBottom:0},children:[t,":"]}),(0,Z.jsx)(F.Z.Text,{style:{marginBottom:0},children:a}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(x.Z,{variant:"outline-light",type:"button",onClick:E,style:{marginRight:"1rem"},children:"Edit"}),(0,Z.jsx)(x.Z,{variant:"outline-light",type:"button",onClick:function(){i((0,y.Dg)()),c(n),s(!0)},disabled:f,children:f?(0,Z.jsx)(m.iT,{color:"#25515a",height:20,width:20}):"Delete"})]})]})})})]})},J=S.ZP.div(d||(d=(0,N.Z)(["\n  display: flex;\n  justify-content: center;\n\n  @media (min-width: 769px) {\n    width: 80%;\n  }\n  @media (min-width: 1024px) {\n    width: 40%;\n  }\n"]))),_=function(){return(0,Z.jsx)(J,{children:(0,Z.jsx)(m.CJ,{color:"#1cadca",height:80,width:80})})},D=S.ZP.ul(c||(c=(0,N.Z)(["\n  padding-inline-start: 0;\n"]))),H=function(){var e=(0,h.bC)(),n=e.data,t=e.isFetching,a=n,s=(0,b.v9)(w),r=(0,u.useState)(!1),i=(0,l.Z)(r,2),o=i[0],d=i[1],c=(0,u.useState)(!1),m=(0,l.Z)(c,2),x=m[0],f=m[1],g=function(){var e=s.toLowerCase();return null===a||void 0===a?void 0:a.filter((function(n){return n.name.toLowerCase().includes(e)}))}(),y=function(e){d(e)},C=function(e){f(e)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(p.Z,{position:"middle-end",children:(0,Z.jsxs)(j.Z,{bg:"info",onClose:function(){return d(!1)},show:o,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(j.Z.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(j.Z.Body,{children:"Deleted from your contacts!"})]})}),(0,Z.jsx)(p.Z,{position:"middle-end",children:(0,Z.jsxs)(j.Z,{bg:"info",onClose:function(){return f(!1)},show:x,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(j.Z.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(j.Z.Body,{children:"Contact updated!"})]})}),(0,Z.jsxs)(D,{children:[t&&(0,Z.jsx)(_,{}),a&&!t&&g.map((function(e){return(0,Z.jsx)(I,(0,v.Z)((0,v.Z)({},e),{},{passDeletedContactInfoForToast:y,passUpdatedContactInfoForToast:C}),e.id)})),(!a||0===a.length)&&!t&&(0,Z.jsx)(B,{})]})]})},q=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Phonebook"}),(0,Z.jsx)(g,{}),(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(C,{}),(0,Z.jsx)(H,{})]})}}}]);
//# sourceMappingURL=215.0e4f245b.chunk.js.map