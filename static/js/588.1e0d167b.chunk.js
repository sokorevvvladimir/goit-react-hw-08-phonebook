"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[588],{6588:function(n,e,t){t.r(e),t.d(e,{default:function(){return Sn}});var a=t(885),r=t(2791),o=t(5065),i=t(375),s=t(3360),c=t(3090),d=t(1413),l=t(5987),u=t(1694),h=t.n(u),f=t(5746);function m(n){var e=function(n){var e=(0,r.useRef)(n);return e.current=n,e}(n);(0,r.useEffect)((function(){return function(){return e.current()}}),[])}var x=Math.pow(2,31)-1;function p(n,e,t){var a=t-Date.now();n.current=a<=x?setTimeout(e,a):setTimeout((function(){return p(n,e,t)}),x)}function b(){var n=(0,f.Z)(),e=(0,r.useRef)();return m((function(){return clearTimeout(e.current)})),(0,r.useMemo)((function(){var t=function(){return clearTimeout(e.current)};return{set:function(a,r){void 0===r&&(r=0),n()&&(t(),r<=x?e.current=setTimeout(a,r):p(e,a,Date.now()+r))},clear:t}}),[])}var g,w=t(4942),j=t(659),v=t(6350),Z=t(184),y=(g={},(0,w.Z)(g,j.d0,"showing"),(0,w.Z)(g,j.Ix,"showing show"),g),C=r.forwardRef((function(n,e){return(0,Z.jsx)(v.Z,(0,d.Z)((0,d.Z)({},n),{},{ref:e,transitionClasses:y}))}));C.displayName="ToastFade";var N=C,P=t(9007),k=t(162),T=t(473),S=r.createContext({onClose:function(){}}),L=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],B=r.forwardRef((function(n,e){var t=n.bsPrefix,a=n.closeLabel,o=n.closeVariant,i=n.closeButton,s=n.className,c=n.children,u=(0,l.Z)(n,L);t=(0,k.vE)(t,"toast-header");var f=(0,r.useContext)(S),m=(0,P.Z)((function(n){null==f||null==f.onClose||f.onClose(n)}));return(0,Z.jsxs)("div",(0,d.Z)((0,d.Z)({ref:e},u),{},{className:h()(t,s),children:[c,i&&(0,Z.jsx)(T.Z,{"aria-label":a,variant:o,onClick:m,"data-dismiss":"toast"})]}))}));B.displayName="ToastHeader",B.defaultProps={closeLabel:"Close",closeButton:!0};var E=B,z=(0,t(6543).Z)("toast-body"),F=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],A=r.forwardRef((function(n,e){var t=n.bsPrefix,a=n.className,o=n.transition,i=void 0===o?N:o,s=n.show,c=void 0===s||s,u=n.animation,f=void 0===u||u,m=n.delay,x=void 0===m?5e3:m,p=n.autohide,g=void 0!==p&&p,w=n.onClose,j=n.bg,v=(0,l.Z)(n,F);t=(0,k.vE)(t,"toast");var y=(0,r.useRef)(x),C=(0,r.useRef)(w);(0,r.useEffect)((function(){y.current=x,C.current=w}),[x,w]);var P=b(),T=!(!g||!c),L=(0,r.useCallback)((function(){T&&(null==C.current||C.current())}),[T]);(0,r.useEffect)((function(){P.set(L,y.current)}),[P,L]);var B=(0,r.useMemo)((function(){return{onClose:w}}),[w]),E=!(!i||!f),z=(0,Z.jsx)("div",(0,d.Z)((0,d.Z)({},v),{},{ref:e,className:h()(t,a,j&&"bg-".concat(j),!E&&(c?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,Z.jsx)(S.Provider,{value:B,children:E&&i?(0,Z.jsx)(i,{in:c,unmountOnExit:!0,children:z}):z})}));A.displayName="Toast";var I=Object.assign(A,{Body:z,Header:E}),D=["bsPrefix","position","containerPosition","className","as"],J={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},R=r.forwardRef((function(n,e){var t=n.bsPrefix,a=n.position,r=n.containerPosition,o=void 0===r?"absolute":r,i=n.className,s=n.as,c=void 0===s?"div":s,u=(0,l.Z)(n,D);return t=(0,k.vE)(t,"toast-container"),(0,Z.jsx)(c,(0,d.Z)((0,d.Z)({ref:e},u),{},{className:h()(t,a&&[o?"position-".concat(o):null,J[a]],i)}))}));R.displayName="ToastContainer";var _,H,M,q,O,V,G,U,W,$,K,X,Q,Y,nn=R,en=function(){var n=(0,r.useState)(""),e=(0,a.Z)(n,2),t=e[0],d=e[1],l=(0,r.useState)(""),u=(0,a.Z)(l,2),h=u[0],f=u[1],m=(0,o.bC)().data,x=(0,o.Lr)(),p=(0,a.Z)(x,2),b=p[0],g=p[1].isLoading,w=(0,r.useState)(!1),j=(0,a.Z)(w,2),v=j[0],y=j[1],C=(0,r.useState)(""),N=(0,a.Z)(C,2),P=N[0],k=N[1],T=(0,r.useState)(!1),S=(0,a.Z)(T,2),L=S[0],B=S[1],E=(0,r.useState)(!1),z=(0,a.Z)(E,2),F=z[0],A=z[1],D=function(n){if(function(n){return m.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))}(n))return k(n.name),void B(!0);!function(n){return m.find((function(e){return e.number===n.number}))}(n)?(b(n),y(!0),k(n.name)):A(!0)},J=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":d(a);break;case"number":f(a);break;default:return}},R=function(){d(""),f("")};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(nn,{position:"top-center",children:[(0,Z.jsxs)(I,{bg:"info",onClose:function(){return y(!1)},show:v,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(I.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(I.Body,{children:"".concat(P," added to your contacts!")})]}),(0,Z.jsxs)(I,{bg:"danger",onClose:function(){return B(!1)},show:L,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(I.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(I.Body,{children:"".concat(P," is already in your contacts.")})]}),(0,Z.jsxs)(I,{bg:"danger",onClose:function(){return A(!1)},show:F,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(I.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Warning!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(I.Body,{children:"Contact with this phone number is already in your contacts."})]})]}),(0,Z.jsxs)(c.Z,{onSubmit:function(n){n.preventDefault(),D({name:t,number:h}),R()},children:[(0,Z.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formBasicName",children:[(0,Z.jsx)(c.Z.Label,{children:"Name"}),(0,Z.jsx)(c.Z.Control,{placeholder:"Enter name",type:"text",name:"name",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:J})]}),(0,Z.jsxs)(c.Z.Group,{className:"mb-3",controlId:"formBasicNumber",children:[(0,Z.jsx)(c.Z.Label,{children:"Phone"}),(0,Z.jsx)(c.Z.Control,{placeholder:"Phone number",type:"tel",name:"number",value:h,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:J})]}),(0,Z.jsx)("div",{className:"d-grid gap-2",children:(0,Z.jsx)(s.Z,{style:{display:"flex",justifyContent:"center"},variant:"secondary",type:"submit",disabled:g,children:g?(0,Z.jsx)(i.iT,{color:"#ffffff",height:20,width:20}):"Add contact"})})]})]})},tn=t(168),an=t(6031),rn=t(5048),on=t(1634),sn=function(n){return n.filter},cn=an.ZP.label(_||(_=(0,tn.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 18px;\n  font-weight: 500;\n"]))),dn=an.ZP.input(H||(H=(0,tn.Z)(["\n  width: 95%;\n  margin-top: 5px;\n  &:focus {\n    outline: 3px solid #1ac7d2;\n    border: none;\n  }\n    @media (min-width: 769px){\n    width: 80%;\n  };\n  @media (min-width: 1024px) {\n    width: 40%;\n  })\n"]))),ln=function(){var n=(0,rn.I0)(),e=(0,rn.v9)(sn);return(0,o.VX)(e,{skip:""===e}),(0,Z.jsxs)(cn,{children:["Find contacts by name",(0,Z.jsx)(dn,{type:"text",value:e,onChange:function(e){n((0,on.M6)(e.currentTarget.value))}})]})},un=an.ZP.p(M||(M=(0,tn.Z)(["\n  font-weight: 500;\n"]))),hn=function(){return(0,Z.jsx)(un,{children:"Nothing here so far"})},fn=t(4164),mn=an.ZP.div(q||(q=(0,tn.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),xn=an.ZP.div(O||(O=(0,tn.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: translate(-50%, -50%) scale(1);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  min-height: 300px;\n  max-width: 600px;\n  width: 360px;\n  padding: 12px;\n  background-color: #ffffff;\n  border-radius: 3px;\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);\n\n      @media (min-width: 769px){\n    width: 50%;\n  };\n  @media (min-width: 1024px) {\n    width: 40%;\n  });\n"]))),pn=function(n){var e=n.onClose,t=n.children,a=document.getElementById("modal-root");return(0,r.useEffect)((function(){var n=function(n){"Escape"===n.code&&e()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]),(0,fn.createPortal)((0,Z.jsx)(mn,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,Z.jsx)(xn,{children:t})}),a)},bn=an.ZP.li(V||(V=(0,tn.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #1cadca;\n  color: #ffffff;\n  padding: 10px;\n  height: 100px;\n\n  &:nth-child(2n) {\n    background-color: #25515a;\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  @media (min-width: 769px){\n    width: 80%;\n    height: 50px;\n  };\n  @media (min-width: 1024px) {\n    width: 40%;\n  })\n"]))),gn=an.ZP.button(G||(G=(0,tn.Z)(["\n  width: 100px;\n  min-width: 100px;\n  height: 40px;\n  font-size: 12px;\n  font-weight: 400;\n  border-radius: 3px;\n  margin-left: 10px;\n  max-height: 40px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    background-color: #cde2e5;\n  }\n  &:active {\n    color: #ffffff;\n    background-color: #b3c2c4;\n  }\n"]))),wn=an.ZP.div(U||(U=(0,tn.Z)(["\n  height: 90px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  @media (min-width: 769px) {\n    flex-direction: row;\n    max-height: 40px;\n  } ;\n"]))),jn=an.ZP.button(W||(W=(0,tn.Z)(["\n  width: 15vw;\n  height: 40px;\n  font-size: 20px;\n  font-weight: 400;\n  border-radius: 3px;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n\n  &:hover {\n    background-color: #cde2e5;\n  }\n  &:active {\n    color: #ffffff;\n    background-color: #b3c2c4;\n  }\n"]))),vn=an.ZP.form($||($=(0,tn.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n  padding: 10px;\n  background-image: repeating-linear-gradient(\n    -45deg,\n    #1cadca,\n    #1cadca 10px,\n    #25515a 10px,\n    #25515a 20px\n  );\n"]))),Zn=an.ZP.label(K||(K=(0,tn.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-weight: 700;\n  color: #ffffff;\n  margin-bottom: 20px;\n"]))),yn=an.ZP.input(X||(X=(0,tn.Z)(["\n  width: 95%;\n  margin-top: 5px;\n  &:focus {\n    outline: 3px solid #1ac7d2;\n    border: none;\n  }\n"]))),Cn=function(n){var e=n.id,t=n.name,s=n.number,c=n.passDeletedContactInfoForToast,d=n.passUpdatedContactInfoForToast,l=(0,rn.I0)(),u=(0,o.Nt)(),h=(0,a.Z)(u,2),f=h[0],m=h[1].isLoading,x=(0,o.wv)(),p=(0,a.Z)(x,2),b=p[0],g=p[1].isLoading,w=(0,r.useState)(!1),j=(0,a.Z)(w,2),v=j[0],y=j[1],C=(0,r.useState)(t),N=(0,a.Z)(C,2),P=N[0],k=N[1],T=(0,r.useState)(s),S=(0,a.Z)(T,2),L=S[0],B=S[1],E=function(){y(!v)},z=function(n){var e=n.currentTarget,t=e.name,a=e.value;switch(t){case"name":k(a);break;case"number":B(a);break;default:return}};return(0,Z.jsxs)(Z.Fragment,{children:[v&&(0,Z.jsx)(pn,{isShown:v,onClose:E,children:(0,Z.jsxs)(vn,{onSubmit:function(n){n.preventDefault(),function(n){var e=n.id,t=n.newName,a=n.newNumber;b({id:e,name:t,number:a}),d(!0)}({id:e,newName:P,newNumber:L})},children:[(0,Z.jsxs)(Zn,{children:["Name",(0,Z.jsx)(yn,{type:"text",name:"name",value:P,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:z})]}),(0,Z.jsxs)(Zn,{children:["Number",(0,Z.jsx)(yn,{type:"tel",name:"number",value:L,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:z})]}),(0,Z.jsx)(jn,{type:"submit",disabled:g,children:g?(0,Z.jsx)(i.iT,{color:"#25515a",height:20,width:20}):"OK"})]})}),(0,Z.jsxs)(bn,{children:[t,": ",s,(0,Z.jsxs)(wn,{children:[(0,Z.jsx)(gn,{type:"button",onClick:E,children:"Edit"}),(0,Z.jsx)(gn,{type:"button",onClick:function(){l((0,on.Dg)()),f(e),c(!0)},disabled:m,children:m?(0,Z.jsx)(i.iT,{color:"#25515a",height:20,width:20}):"Delete"})]})]})]})},Nn=an.ZP.div(Q||(Q=(0,tn.Z)(["\n  display: flex;\n  justify-content: center;\n\n  @media (min-width: 769px) {\n    width: 80%;\n  }\n  @media (min-width: 1024px) {\n    width: 40%;\n  }\n"]))),Pn=function(){return(0,Z.jsx)(Nn,{children:(0,Z.jsx)(i.CJ,{color:"#1cadca",height:80,width:80})})},kn=an.ZP.ul(Y||(Y=(0,tn.Z)(["\n  padding-inline-start: 0;\n"]))),Tn=function(){var n=(0,o.bC)(),e=n.data,t=n.isFetching,i=e,s=(0,rn.v9)(sn),c=(0,r.useState)(!1),l=(0,a.Z)(c,2),u=l[0],h=l[1],f=(0,r.useState)(!1),m=(0,a.Z)(f,2),x=m[0],p=m[1],b=function(){var n=s.toLowerCase();return null===i||void 0===i?void 0:i.filter((function(e){return e.name.toLowerCase().includes(n)}))}(),g=function(n){h(n)},w=function(n){p(n)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(nn,{position:"top-center",children:(0,Z.jsxs)(I,{bg:"info",onClose:function(){return h(!1)},show:u,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(I.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(I.Body,{children:"Deleted from your contacts!"})]})}),(0,Z.jsx)(nn,{position:"top-center",children:(0,Z.jsxs)(I,{bg:"info",onClose:function(){return p(!1)},show:x,delay:3e3,autohide:!0,children:[(0,Z.jsxs)(I.Header,{children:[(0,Z.jsx)("strong",{className:"me-auto",children:"Success!"}),(0,Z.jsx)("small",{children:"Just now!"})]}),(0,Z.jsx)(I.Body,{children:"Contact updated!"})]})}),(0,Z.jsxs)(kn,{children:[t&&(0,Z.jsx)(Pn,{}),i&&!t&&b.map((function(n){return(0,Z.jsx)(Cn,(0,d.Z)((0,d.Z)({},n),{},{passDeletedContactInfoForToast:g,passUpdatedContactInfoForToast:w}),n.id)})),(!i||0===i.length)&&!t&&(0,Z.jsx)(hn,{})]})]})},Sn=function(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Phonebook"}),(0,Z.jsx)(en,{}),(0,Z.jsx)("h2",{children:"Contacts"}),(0,Z.jsx)(ln,{}),(0,Z.jsx)(Tn,{})]})}}}]);
//# sourceMappingURL=588.1e0d167b.chunk.js.map